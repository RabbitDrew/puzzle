(()=>{"use strict";const t=document.querySelector("body");new class{constructor(t,e){this.tag=t,this.atribute=e,this.tag,this.atribute}setAtribute(){this.tag.classList.add(this.atribute)}}(t,"page").setAtribute();class e{constructor(t,e){this.tag=t,this.attribute=e,this.tag,this.attribute}createPageContainer(){const t=document.querySelector(".page"),e=document.createElement(this.tag);e.classList.add(this.attribute),null==t||t.appendChild(e)}createPageStart(){const t=document.querySelector(".page-container"),e=document.createElement(this.tag);e.classList.add(this.attribute),t.appendChild(e)}}new e("div","page-container").createPageContainer(),new e("div","page-start").createPageStart();class s{constructor(t,e,s,n,a){this.tag=t,this.className=e,this.hide=s,this.animationHide=n,this.animationOpen=a,this.getStartIntro=document.querySelector(".start-intro")}startIntro(){const t=document.querySelector(".page-start"),e=document.createElement(this.tag);e.classList.add(`${this.className}`,`${this.hide}`,`${this.animationHide}`,`${this.animationOpen}`),t.appendChild(e)}createInnerElements(t,e){const s=document.createElement(this.tag);if(s.classList.add(`${this.className}`),e){const t=document.createElement("span");t.classList.add("subtitle-capital__letter"),t.textContent=e,s.appendChild(t)}s.insertAdjacentHTML("beforeend",t),this.getStartIntro.appendChild(s)}btnTitle(t){const e=document.querySelector(".intro-btn"),s=document.createElement(this.tag);s.classList.add(`${this.className}`),s.textContent=t,e.appendChild(s)}}new s("div","start-intro","start-close--open","start-hide-anim","start-open-anim").startIntro(),new s("h1","intro-title").createInnerElements("english puzzle"),new s("h2","intro-subtitle").createInnerElements("on words, collect phrases.<br>Words can be drag and drop. Select tooltips in the menu","click"),new s("div","intro-btn").createInnerElements(""),new s("h2","btn-title").btnTitle("Start");class n{constructor(t,e,s,n,a){this.tag=t,this.className=e,this.hide=s,this.animationHide=n,this.animationOpen=a,this.getStartEntry=document.querySelector(".start-entry")}startIntro(){const t=document.querySelector(".page-start"),e=document.createElement(this.tag);e.classList.add(`${this.className}`,`${this.hide}`,`${this.animationHide}`,`${this.animationOpen}`),t.appendChild(e)}createInnerEntry(t){const e=document.createElement(this.tag);e.classList.add(`${this.className}`),t&&(e.textContent=t),this.getStartEntry.appendChild(e)}inputs(t,e){const s=["name","surname","email"],n=document.querySelector(".entry-inputs");for(let a=0;a<3;a++){const i=document.createElement(this.tag);i.setAttribute("placeholder",s[a]),i.classList.add(this.className),n.appendChild(i);const r=document.createElement(t);r.setAttribute("for",this.className),r.classList.add(e),r.textContent=s[a],n.appendChild(r)}}btn(){const t=document.querySelector(".entry-btn");for(let e=0;e<2;e++){const e=document.createElement(this.tag);e.classList.add(`${this.className}`),t.appendChild(e)}}btnTitle(){const t=["log out","log in"];document.querySelectorAll(".btn-log").forEach(((e,s)=>{const n=document.createElement(this.tag);n.classList.add(this.className),n.textContent=t[s],e.appendChild(n)}))}}new n("div","start-entry","entry-close--open","entry-hide-anim","entry-open-anim").startIntro(),new n("div","entry-inputs").createInnerEntry(),new n("input","entry-input").inputs("lable","inputs-label"),new n("div","entry-btn").createInnerEntry(),new n("div","btn-log").btn(),new n("h2","log-title").btnTitle(),function(){const t=document.querySelector(".start-intro"),e=document.querySelector(".start-entry");t&&e&&(t.classList.remove("start-close--open","start-hide-anim"),e.classList.remove("entry-open-anim","entry-hide-anim"))}();class a{constructor(t,e,s,n){this.toggleEl=t,this.triggerEl=e,this.firstClass=s,this.secondClass=n}animate(){this.triggerEl.addEventListener("click",(t=>{this.toggleEl.classList.remove(`${this.firstClass}`),this.toggleEl.classList.add(`${this.secondClass}`)}))}disable(){this.triggerEl.addEventListener("click",(t=>{setTimeout((()=>{this.toggleEl.classList.add(`${this.firstClass}`)}),1e3)}))}enable(t){this.triggerEl.addEventListener("click",(e=>{setTimeout((()=>{this.toggleEl.classList.remove(`${this.firstClass}`),this.toggleEl.classList.add(`${this.secondClass}`),t&&this.toggleEl.classList.remove(`${t}`)}),1e3)}))}}const i=t=>{const e=document.querySelector(`.${t}`);if(e)return e;throw console.error("the element is undefined")},r=t=>{const e=document.querySelectorAll(`.${t}`);if(e)return e;throw console.error("the element is undefined")},l=(t,e)=>{const s=document.querySelectorAll(`.${t}`);return Array.from(s).find(((t,s)=>s===e))},o=i("start-intro"),c=i("start-entry"),d=i("intro-btn"),h=l("btn-log",0);new a(o,d,"start-open-anim","start-hide-anim").animate(),new a(o,d,"start-close--open").disable(),new a(c,d,"entry-close--open","entry-open-anim").enable(),new a(c,h,"entry-open-anim","entry-hide-anim").animate(),new a(c,h,"entry-close--open").disable(),new a(o,h,"start-close--open","start-open-anim").enable("start-hide-anim");const m=l("btn-log",1),u=function(t,e){t.classList.add(e),setTimeout((()=>{t.classList.remove(e)}),1500)},g=function(){const t=r("entry-input"),e=r("inputs-label");let s=[],n="",a="",i="";const l=/^[A-Z][a-z]+(?:-[a-z]+)*$/,o=/^[A-Za-z0-9][A-Za-z0-9.-_]*[A-Za-z0-9]*@([A-Za-z0-9]+([A-Za-z0-9-]*[A-Za-z0-9]+)*\.)+[A-Za-z]*$/;return t.forEach(((t,s)=>{0===s?""===t.value||t.value.length<3||!l.test(t.value)?(u(t,"valid-err"),u(e[s],"valid-err__lable")):n=t.value:1===s?""===t.value||t.value.length<4||!l.test(t.value)?(u(t,"valid-err"),u(e[s],"valid-err__lable")):a=t.value:2===s&&(""===t.value||t.value.length<4||!o.test(t.value)?(u(t,"valid-err"),u(e[s],"valid-err__lable")):i=t.value)})),s.push(n,a,i),s};m.addEventListener("click",(()=>{g()}));class p{constructor(t,e,s){this.name=t,this.surname=e,this.email=s}checkLoclaStorgae(){let t=[];for(let e=0;e<localStorage.length;e++)t.push(localStorage.key(e));return console.log(t),t}checkUserEmail(){let t=new Set;for(let e=0;e<localStorage.length;e++){const s=localStorage.getItem(localStorage.key(e));if(!s)throw console.error("undefined");{const e=JSON.parse(s);t.add(e.email)}}return console.log(t),t}setUser(t,e){let s=0;if(t.length<=0){const t={name:this.name,surname:this.surname,email:this.email,active:!1};localStorage.setItem("person",JSON.stringify(t))}else for(let t of e){if(t===this.email)throw console.error("User with the same email addres already exists");{s+=1;let t="personâ„–"+s.toString();const e={name:this.name,surname:this.surname,email:this.email,active:!1};localStorage.setItem(t,JSON.stringify(e))}}}}l("btn-log",1).addEventListener("click",(()=>{!function(t){let e="",s="",n="";t.forEach(((t,a)=>{0===a?e=t:1===a?s=t:2===a&&(n=t)}));let a=new p(e,s,n);a.setUser(a.checkLoclaStorgae(),a.checkUserEmail()),console.log(a.checkUserEmail())}(g())}))})();
//# sourceMappingURL=bundle.3f4fc7c42ba703fa081d.js.map